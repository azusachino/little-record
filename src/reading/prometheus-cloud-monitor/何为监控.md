# 监控之美

## 监控体系

1. 趋势分析
2. 对照分析
3. 告警
4. 故障分析与定位
5. 数据可视化

### 五层

1. 端监控 针对用户在体验上可以感知的对象进行监控，如网站、App、小程序等
2. 业务层监控 对于业务层，可按需深度定制监控系统，实现对业务属性的监控告警功能，生成业务数据监控大盘。
3. 应用层监控 主要是对分布式应用和调用链应用的性能进行管理和监控，如对 Spring Boot、JVM 信息、服务链路、Dubbo 等应用在进行诸如 RPC 调用、Trace 链路追踪动作时产生的数据进行监控。
4. 中间件监控 监控的主要对象是框架自身的埋点、延迟、错误率等。
5. 系统层监控 如何对系统层进行监控，是运维工程师最关心的问题。

Open-Falcon 提炼出了 Linux 系统的运维基础采集项，主要包含 CPU、Load、内存、磁盘 I/O、网络相关参数、内核参数、ss 统计输出、端口、核心服务的进程存活情况、关键业务进程资源消耗、NTP offset 采集、DNS 解析采集等指标。

## 分类

- Metrics
- Tracing
- Logging
- HealthCheck

Chaos Engineering

## MDD(Metrics Driven Development)

MDD（Metrics-Driven Development）主张整个应用开发过程由指标驱动，通过实时指标来驱动快速、精确和细粒度的软件迭代。指标驱动开发的理念，不但可以让程序员实时感知生产状态，及时定位并终结问题，而且可以帮助产品经理和运维人员一起关注相关的业务指标。

TDD(test)、BDD(behavior)、MDD(model)、DDD(domain)、MDD(metrics)

- 将指标分配给指标所有者
- 创建分层指标并关联趋势
- 指定决策时使用的指标

### Google 的四大黄金指标

- 延迟
- 流量
- 错误
- 饱和度

## 常见的监控系统

- Nagios
- Zabbix
- Ganglia
- Open-Falcon
- ZMon

### 监控系统选型

1. 功能
2. 性能
3. 数据存储
4. 服务发现
5. 运维管理
6. 开发语言
7. 社区力度及生态发展
8. 误区探讨
